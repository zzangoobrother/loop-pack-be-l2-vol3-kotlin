PRD 또는 요구사항을 기반으로 plan.md를 작성하거나 업데이트한다.

요구사항/PRD: $ARGUMENTS

## 절차

1. `$ARGUMENTS`가 있으면 해당 요구사항을 분석한다
2. `$ARGUMENTS`가 없으면 `PRD.md` 파일이 있는지 확인한다
   - `PRD.md`가 있으면 해당 내용을 기반으로 작업한다
   - 둘 다 없으면 개발자에게 요구사항을 요청한다
3. 기존 `plan.md`가 있는지 확인한다
   - 있으면 현재 진행 상황을 파악하고, 추가/수정할 항목을 제안한다
   - 없으면 새로 작성한다
4. 요구사항을 분석해 TDD로 구현할 수 있는 단위로 분해한다
5. 각 항목을 체크리스트 형태로 작성한다
6. 개발자에게 plan.md 내용을 확인받은 후 저장한다

## plan.md 형식

```markdown
# 기능명

## 개요
요구사항 요약

## 구현 계획

### 1. 도메인 모델
- [ ] Entity 생성 시 필수 필드 검증
- [ ] Entity 비즈니스 메서드 구현

### 2. 저장소
- [ ] Repository 인터페이스 정의
- [ ] RepositoryImpl 구현

### 3. 서비스
- [ ] Service 핵심 비즈니스 로직 구현
- [ ] 에러 케이스 처리

### 4. API
- [ ] Controller 엔드포인트 구현
- [ ] 요청/응답 DTO 정의

### 5. E2E
- [ ] API 통합 테스트
```

## 규칙

- 각 항목은 하나의 테스트로 검증 가능한 크기로 분해한다
- 도메인 → 저장소 → 서비스 → API 순서로 구성한다 (의존성 방향)
- 항목은 구체적이고 명확하게 작성한다 (예: "회원가입" ❌ → "로그인 ID가 빈 값이면 회원가입 실패" ✅)
- 개발자 확인 없이 plan.md를 임의로 생성하지 않는다
